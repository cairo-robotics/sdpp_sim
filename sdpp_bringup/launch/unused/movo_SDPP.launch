<launch>
    <env name="GAZEBO_MODEL_PATH" value="$(find movo_gazebo)/models:$(optenv GAZEBO_MODEL_PATH)" />
    <args name="launch_sim" default="true" />

    <!-- Bring up the platform in sim with all models, controllers, sensors estimates -->
    <node if="$(launch_sim)" pkg="si_utils" type="timed_roslaunch"
        args="1 movo_gazebo movo_test_zone.launch"
        name="sim_bringup" output="screen"/>

    <!-- launch moveit servers -->
    <node pkg="sdpp_gazebo" type="timed_roslaunch"
    	args="10 roslaunch movo_bringup movo_moveit.launch"
    	name="movo_moveit_bringup" output="screen"/>

    <!-- init movo arms -->
    <node pkg="sdpp_gazebo" type="timed_roslaunch"
    	args="40 rosrun movo_gazebo init_sim"
    	name="init_movo_arms" output="screen"/>

    <!-- bringup sensor nav and movebase server -->
    <node pkg="si_utils" type="timed_roslaunch"
        args="35 movo_demos sensor_nav.launch sim:=true"
        name="sensor_nav_bringup" output="screen"/>

    <!-- Bring up rviz -->
    <node pkg="si_utils" type="timed_roslaunch"
        args="40 movo_viz view_robot.launch function:=sensor_nav"
        name="viz_bringup" output="screen"/>

</launch>